{"/hardware/maixface/en/core_modules/k210_core_modules.html": {"title": "K210 core module", "content": "# K210 core module\n\nThere are four AIOT modules developed based on K210: M1, M1w, M1n, MF0\n\n- Feature description:\n\nThese four modules are based on Canaan Kanzhi Technology's edge intelligent computing chip K210 (RISC-V architecture). The main control chip has a built-in 64-bit dual-core high-performance low-power processor, each core has a floating-point unit (FPU), a convolutional artificial neural network intelligent hardware accelerator (KPU) and a fast Fourier transform accelerator (FFT) , Equipped with Field Programmable IO Array (FPIOA), supports a variety of mainstream AI programming frameworks.\n\n### Maix AIOT module difference comparison\n\n|                                               | M1                                                           | M1w                                                          | M1n                                                          | MF0                                                          |\n| --------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |\n| Exterior                                      | ![M1 module](../../assets/mf_module/m1_m1w/sipeed_m1_module.png) | ![M1W module](../../assets/mf_module/m1_m1w/sipeed_m1w_module.png) | ![M1n module](../../assets/mf_module/m1n/sipeed_m1n_module.png) | ![MF0 module](../../assets/mf_module/mf0_mf0dock/sipeed_mf0_module.png) |\n| size                                          | 25.4x25.4x3.3（mm）                                          | 25.4x25.4x3.3（mm）                                          | 25.0x22.0x2.7（mm）                                          | 20.0x20.0x4.5（mm）                                          |\n| Voltage output (provided to the bottom board) | 1.8V and 3.3V                                                | 1.8V and 3.3V                                                | 1.8V and 3.3V                                                | 3.3V                                                         |\n| Maximum power consumption (non-transient)     | 1.5W                                                         | 3W                                                           | 1.5W                                                         | 1.5W                                                         |\n| WIFI                                          | None                                                         | K210 and ESP8285 are connected through SPI interface and serial port | None                                                         | None                                                         |\n| Onboard camera connector                      | None                                                         | None                                                         | Yes (only compatible with single camera)                     | Yes (only compatible with single camera)                     |\n| Pin form                                      | Stamp hole                                                   | Stamp hole                                                   | NGFF  B-KEY                                                  | 2.54mm pitch through pad + SMD pad                           |\n| camera signal                                 | All leads                                                    | All leads                                                    | All leads                                                    | None                                                         |\n| screen signal                                 | All leads                                                    | All leads                                                    | All leads                                                    | None                                                         |\n| Lead out ordinary IO port                     | Quantity 48 (all lead out)                                   | Quantity 48 (all lead out)                                   | 44 (not drawn by IO0-3)                                      | 9                                                            |\n\n\n\n## Module pin definition\n\nSpecific downloadable specifications\n\nM1/M1w: https://dl.sipeed.com/MAIX/HDK/Sipeed-M1&M1W/Specifications\n\nM1n: https://dl.sipeed.com/MAIX/HDK/Sipeed-M1n\n\nMF0: https://dl.sipeed.com/MAIX/HDK/Sipeed-MF0/MF0-2802"}, "/hardware/maixface/en/index.html": {"title": "Sipeed Hardware", "content": "---\ntitle: Sipeed Hardware\nkeywords: Sipeed, Hardware, 矽速, 硬件资料, 文档, 资料下载\ndesc: 矽速科技的硬件资料站\n---\n\n# Sipeed HardWare WIKI\n\n[[English](./README_en.html)|中文]\n\n## K210 核心模组\n\n* [K210 核心模块](./core_modules/k210_core_modules.html)\n    - [M1/M1w](./core_modules/k210_core_modules.html)\n    - [M1n](./core_modules/k210_core_modules.html)\n\n## MF 人脸识别模块\n\n> MF 系列产品面向于商业开发应用\n\n* [MF 人脸识别模块](./)\n  - [MF0&&MF0 Dock](./mf_ml_module/mf0_ml_module.html)\n  - [MF1 && MF2](./mf_ml_module/mf1_ml_module.html)\n  - [MF4 && MF5](./mf_ml_module/mf5_product.html)\n\n- [MF 人脸识别模块 PCB 设计注意事项](./mf_ml_module/mf_precautions.html)\n- [MF 更新固件说明](./mf_ml_module/mf_update_firmwave.html)"}, "/hardware/maixface/en/mf_ml_module/mf1_ml_module.html": {"title": "MF Face recognition module MF1", "content": "# MF Face recognition module MF1\n\n## **Modification Record**\n\n|Version|Time|Modified content|\n|-|-|-|\n|1.0|2019.07.30|Initial version|\n|1.2|2020.08.1| |\n\n## table of Contents\n\n-[**Introduction to hardware resources**](#Introduction to hardware resources)\n-[**Function Introduction**](#Function Introduction)\n    -[Module Features](#Module Features)\n    -[Instructions for use](#Instructions for use)\n-[**Application plan**](#Application plan)\n    -[Serial Module](#Serial Module)\n    <!---[WeChat Mini Program Module](#微信小程序 Module) -->\n    <!---[Second Development](#Second Development) -->\n<!---[**Q&A**](#qa) -->\n\n\n## **Introduction to Hardware Resources**\n\n<center class=\"half\">\n<img src=\"../../assests/front.png\" width = 50% /><img src=\"assests/bottom.jpg\" width = 50% />\n</center>\n\n* CPU: **RISC-V** dual-core 64bit, built-in FPU, frequency 400Mhz-500Mhz\n* Image recognition: living body recognition\n* Dual cameras: infrared + visible light\n* Infrared filling light: 3W infrared light emitting diode\n* Display: 1.33 inches TFT, resolution 240*320 display\n* Other peripherals: capacitive touch button/support 3W speaker/MEMS microphone/SD NAND/RGB LED\n* Wireless function (optional): Support 2.4G 802.11.b/g/n, SPI connection\n\n* [Buy on Taobao](https://item.taobao.com/item.htm?spm=a1z10.1-c.w4004-21231188695.25.27ba52b1bsusf7&id=599138281058)\n\n<div STYLE=\"page-break-after: always;\"></div>\n\n## **Function Introduction**\n\n\n![MF1 pin map](../../assets/mf_module/mf1/mf1_pin_map.png)"}, "/hardware/maixface/en/mf_ml_module/mf_update_firmwave.html": {"title": "MF Firmware related upgrade instructions", "content": "# MF Firmware related upgrade instructions\n\nIn the process of using the **MF face recognition module**, if there is a firmware bug, a new function firmware release, a mistakenly erased firmware, font resources, and image resources, then the firmware needs to be restored by burning.\n\n## MF face recognition module firmware, resource description\n\n**MF Face Recognition Module** The firmware, font resources, picture resources, descriptions are as follows:\n\n\n| Type | Burning Address | Length | Description |\n| -------- | -------- | ----- | ---- |\n| Firmware | 0x000000 | | |\n| Face Model | | | |\n| Font Resources | | | |\n| Picture Resources | | | |\n| Board level configuration | 0x7FF000 | 4 KB | |\n| Face Information | 0x800000 | 64 KB | |\n| | | | |\n\n> After getting the MF module, the general developer does not need to care about the resource distribution\n\nMF firmware description\n\n- VIS: Visible light (VIS)\n\n- IR: infrared light (IR)\n\n| Firmware classification | Direction | Protocol | Identification method | wechat | Number of firmware types |\n| :--- | :--- | :--- | :--- | :--- | :--- |\n| MF0 trial version module | horizontal version, vertical version | bin | vis | | 2 |\n| MF1 offline module | horizontal and vertical | bin/json | vis+ir | | 8 |\n| MF2 WeChat semi-finished product | Horizontal version, vertical version | bin | vis | Support | 2 |\n| MF4 WeChat (finished product) | Vertical version | bin | vis | Support | 1 |\n| MF5 WeChat (finished product) | Vertical version | bin/json | vis | Support | 2 |\n\n- Font resources\n- Picture resources\n\n\n## MF firmware burning (upgrade, restore factory configuration) steps\n\nIn the process of using the **MF face recognition module**, if there is a firmware bug, a new function firmware release, a mistakenly erased firmware, font resources, and image resources, then the firmware needs to be restored by burning.\n\n### Preparation:\n\nBefore upgrading and restoring the factory configuration **MF face recognition module**, we need to prepare software and hardware.\n\n**Hardware preparation:**\n\n - **MF Face Recognition Module**\n\n - USB Type-C data cable\n\n\n**Software preparation:**\n\n  - Burning software: kflash_gui (Kflash_gui v1.6.5 version is used here)\n\n  **Download link:**\n\n  - Github: [kflash_gui](https://github.com/Sipeed/kflash_gui)\n\n  - Sipeed: [Sipeed official download site-kflash_gui](https://dl.sipeed.com/MAIX/tools/kflash_gui/kflash_gui_v1.6.5)\n\n  - Burn resource files (burn according to the situation): **MF face recognition module firmware**, algorithm model files, font resource files, image resource files\n\n  Get the resource files and send a unified email to: Email: Support@sipeed.com\n\n  The recommended email format is as follows:\n\n  > Problem type: [MF firmware resource acquisition]\n  >\n  > Use hardware/firmware version: [MF0/MF1/MF2/MF4/MF5]\n  >\n  > Content: [Get the latest firmware/Firmware is missing/Model is missing (describe the relevant situation)]\n  >\n  > Machine code: [xxxxxxxxxxxxxxxxxxxxx (only required when the model is lost)]\n\n\n### Burn firmware, resource files\n\nUse the USB Type-C data cable to connect the **MF face recognition module** to the computer\n\n\n![MF1 connect USB](../../assets/mf_module/mf1/mf1_view.png)\n\nOpen Kflash_gui, select the file to be burned, select the version (default is `automatic selection`, if the burn fails, select `MaixDuino`), select the serial port number (CH522 has two serial ports, try the other one if it fails), configure the wave Special rate (default is `150000`, if programming fails, reduce the baud rate appropriately, such as `115200`)\n\n![image-20200806103433410](../../assets/kflash_gui/image-20200806103433410.png)\n\n![image-20200806105056527](../../assets/kflash_gui/image-20200806105056527.png)\n\n## How to get Key (Machine Code)\n\nDuring use, if the model of the module is lost or needs to be replaced, you need to send the `Key` to <Support@sipeed.com>\n\nThe recommended email format is as follows:\n\n\nFirst download [key_gen.bin](https://fdvad021asfd8q.oss-cn-hangzhou.aliyuncs.com/Sipeed_M1/firmware/key_gen_v1.2.bin)\n\nAfter using the `kflash_gui` to burn the firmware `ken_gen.bin` into the module, open the serial port and the baud rate is `115200,8,N,1`\n\n> **[kflash_gui](https://github.com/Sipeed/kflash_gui/releases)** is K210 firmware burning tool, source code: [**Sipeed/kflash_gui**](https://github.com/ Sipeed/kflash_gui)\n\nIt is recommended to use [`XCOM`](tools/XCOM_V2.2.exe) to view the serial port information\n\nTap `DTR` and release it to reset the module and see the startup information\n\n<center class=\"half\">\n<img src=\"../../assets/other/how_to_get_key.png\" height = 50% width = 80% />\n</center>\n\n\n## MF Firmware Version Description\n\nDue to the different imaging directions of the cameras, there are two firmware versions: horizontal and vertical versions;\n\nHow to confirm the firmware corresponding to the camera: (identified by the camera silkscreen)\n\n| Horizontal board | Vertical board |\n| --- | --- |\n| ![](../../assets/mf_module/mf1/mf_dual_camera_1.jpg) | ![](../../assets/mf_module/mf1/mf_dual_camera_2.png) |"}, "/hardware/maixface/en/mf_ml_module/mf_precautions.html": {"title": "MF PCB design considerations", "content": "# MF PCB design considerations\n\nPrecautions:\n\n1. For the 850nm infrared fill light, 1W or 3W power lamp beads can be considered, because the lamp beads with higher power can extend the service life, reduce the failure rate and improve the recognition effect\n\n2. The driving circuit and component parameters of infrared lamp beads and white light lamp beads must be determined according to the actual lamp beads selection and quantity. Because the cost of different circuits is different, the brightness feels different, and the needs of different customers are different, so customers need to choose and adjust parameters according to the actual situation.\n\n3. 850nm light has certain penetrability.\nIt has been confirmed that the 850nm light of the infrared fill light will penetrate from the periphery and back of the camera module, affecting the imaging, and then affecting the screen image or the recognition effect.\nTherefore, it is necessary to use 850nm impenetrable materials/paint/tape to block the infrared light scattered from the lamp beads to the inside of the camera between the camera and the fill light.\nIn addition, you can also open the distance between the infrared lamp beads and the camera. Keep the distance above 15mm to reduce the negative impact by 80%. Keep the distance above 20mm, and the infrared rays will not be transmitted into the camera.\n\n4. The heat dissipation pad on the bottom of the M1/M1w module needs to be connected to the largest possible copper skin to improve the heat dissipation performance\n\n5. The pads of white light lamp beads and infrared lamp beads need to be connected to the largest possible copper skin to improve heat dissipation performance\n\n6. The capacitor to the ground of the white light fill light should be removed, otherwise it will reset when the light is turned on\n\n7. If capacitive touch is needed, try to put the touch chip under the position close to the finger touch. Because of the trace length between the touch chip and the touch panel, the longer the length, the more difficult it is to grasp the sensitivity and the easier it is to be interfered.\n\n8. For each K210 module pin and power pin used, try to add ESD diodes. The location of the ESD diode is selected according to the actual situation\n\n9. If there is a requirement for certification, all data lines D0-D7 of the screen/camera and 4 control signals, as well as other communication signal lines, need to add RC filtering to eliminate overshoot and ringing according to the actual measurement conditions. The parameter is 100R+100PF (It is best to decide according to the actual test), low-pass RC form (the signal output first passes through the resistor and then the capacitor, and the RC component is placed close to the M1 module). Try to add RC filtering to other output signals (resistance and capacitance are determined according to the actual signal frequency)\n\n10. Try to connect 200R resistors and ESD diodes to each IO to protect the IO ports\n\n11. The working voltage and tolerance voltage of RST, BANK6/7, camera 8-bit data and screen 8-bit data of M1/M1w module are 1.8V, and the working voltage and tolerance voltage of BANK0/1/2/3/4/5 All are 3.3V withstand voltage, and must not exceed the withstand voltage range. If you want to use the RST pin, it is recommended to use a MOS tube to form a level conversion circuit.\n\n12. The 5V of the module is the input, and the external power supply is used for the module; the 1.8V and 3.3V of the module are generated by the internal DC-DC of the module, which are mainly used for the internal core components of the module, and secondly for the small current components outside the module. (For example, as a 1.8V reference voltage for screens and cameras, and other small current requirements. It is not recommended to provide large current components outside the module)\n\n13. If you use the M1w module, you need to follow the antenna placement principle to place the IPEX 2.4G antenna, otherwise the signal will have a greater degree of loss\n\n14. IO16 (BOOT) needs to add a 10K pull-up resistor to 3.3V on the bottom board\n\n15. FPIOA allows users to map 255 internal functions to 48 free IOs on the periphery of the chip"}, "/hardware/maixface/en/mf_ml_module/mf0_ml_module.html": {"title": "MF0 Machine Learning Core Module", "content": "# MF0 Machine Learning Core Module\n\n## Software and hardware overview\n\nMF0 face recognition module appearance at a glance\n\n<table border=\"3\">\n    <tr>\n        <th colspan=3>MF0</th>\n    </tr>\n    <tr>\n        <td width=\"100\">Description</td>\n        <td>Front view</td>\n        <td>Back view</td>\n    </tr>\n    <tr>\n        <td width=\"100\">MF0</td>\n        <td>\n            <img src=\"../../assets/mf_module/mf0_mf0dock/mf0_pin_map.png\" width=\"600\" alt=\"MF0 front\">\n            Pin Map</br>\n        </td>\n        <td>\n            <img src=\"../../assets/mf_module/mf0_mf0dock/mf0_buttom.png\" width=\"600\" alt=\"MF0 back view\">\n        </td>\n    </tr>\n    <tr>\n        <td>MF0 Dock</td>\n        <td>\n            <!-- <img src=\"../assets/mf_module/mf1_bottom_v2(nand).png\" width=\"600\" alt=\"MF1(NAND Flash) back view\"> -->\n        </td>\n        <td>\n        </td>\n    </tr>\n</table>\n\n### Module features:\n\n- CPU: RISC-V 64bit dual-core processor, 400Mhz standard frequency (overclockable)\n- Image recognition: QVGA@60FPS/VGA@30FPS\n- Deep learning framework: TensorFlow/Keras/Darknet\n- Peripherals: FPIOA, UART, GPIO, SPI, I²C, I²S, WDT, TIMER, etc\n- 2.54mm pitch DIP/SMT pad\n- Can be connected to a breadboard\n- Onboard camera connector\n- ROM: 4MByte\n- RAM: 6MByte (General purpose) + 2MByte (KPU dedicated)\n\n### Hardware pin\n\n| No. | Description |\n| --- | --- |\n| 24 | User IO24 |\n| 25 | User IO25 |\n| 26 | User IO26, MF0_Dock(LCD_RST) |\n| 27 | User IO27, MF0_Dock(LCD_CLK) |\n| 28 | User IO28, MF0_Dock(LCD_DC) |\n| 29 | User IO29, MF0_Dock(LCD_SDA) |\n| --- | --- |\n| BOOT | Power-on boot mode selection (user IO16, not recommended for users) |\n| IO5 | User IO5 (ISP_TX) |\n| IO4 | User IO4 (ISP_RX) |\n| EN | MF0 power enable pin, default high level enable |\n| RST | K210 reset pin |\n| VIN | External power supply 3.4-5.9V (5.0V recommended) |\n| GND | External power supply ground |\n| 3V3 | Module power supply 3.3V output |\n\n## Agreement\n\nSerial port protocol:\n\nMFO burns HEX protocol firmware by default\nMF0 has two protocol firmware, which is convenient for users to use according to specific needs\n\n-HEX format serial protocol firmware\n-JSON format serial protocol firmware\n\nHEX example\n\n### Serial Protocol Assistant\n\n## Update MF0 firmware\n\nMF0 hardware connection:\n\n| No. | USB to serial port module | MF0 IO | Remarks |\n| --- | --- | --- | --- |\n| 1 | 5V | VIN | --- |\n| 2 | GND | GND | --- |\n| 3 | TX | IO4 | --- |\n| 4 | RX | IO5 | --- |\n| 5 | DTR | BOOT | --- |\n| 6 | RTS | RST | --- |\n\n![](../../assets/mf_module/mf0_mf0dock/mf0_flash.png)\n\nMF0 Dock hardware connection:\n\nAfter connecting according to the following table, when downloading using kflash_gui, you need to press the boot and rst buttons, and release the rst and then the boot button to ensure that the K210 enters the download mode (ISP mode)\n\n| No. | USB to serial port module | MF0 Dock IO | Remarks |\n| --- | --- | --- | --- |\n| 1 | 5V | VIN | --- |\n| 2 | GND | GND | --- |\n| 3 | TX | IO4 | --- |\n| 4 | RX | IO5 | --- |\n\n![](../../assets/mf_module/mf0_mf0dock/mf0_dock_flash.png)\n\nThen use kflash_gui to download the MF0 firmware\n\n![](../../assets/mf_module/mf0_mf0dock/mf0_upgrade_firmwave.png)"}, "/hardware/maixface/en/no_translate.html": {"title": "no translation", "content": "---\ntitle: no translation\nclass: md_page\n---\n\n\n<div id=\"visit_from\"></div>\n<div id=\"no_translate_hint\">This page not translated yet</div>\n<div>\n    <span id=\"visit_hint\">Please visit</span>\n    <a id=\"translate_src\"></a>\n</div>\n\n<div>\n    <script>\n        function getQueryVariable(variable)\n        {\n            var query = window.location.search.substring(1);\n            var vars = query.split(\"&\");\n            for (var i=0;i<vars.length;i++) {\n                    var pair = vars[i].split(\"=\");\n                    if(pair[0] == variable){return pair[1];}\n            }\n            return(false);\n        }\n        var ref = getQueryVariable(\"ref\");\n        var from = getQueryVariable(\"from\");\n        var link = document.getElementById(\"translate_src\");\n        var fromDis = document.getElementById(\"visit_from\");\n        link.href = ref;\n        link.text = ref;\n        fromDis.innerHTML = from;\n    </script>\n</div>"}}